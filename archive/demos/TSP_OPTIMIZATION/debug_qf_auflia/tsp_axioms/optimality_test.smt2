(set-logic QF_AUFLIA)
; --- Declarations ---
(declare-const tour (Array Int Int))
(declare-const cost Int)
(declare-fun dist (Int Int) Int)
; --- Distance Matrix ---
(assert (= (dist 1 2) 112))
(assert (= (dist 1 3) 158))
(assert (= (dist 1 4) 112))
(assert (= (dist 1 5) 132))
(assert (= (dist 2 1) 112))
(assert (= (dist 2 3) 112))
(assert (= (dist 2 4) 158))
(assert (= (dist 2 5) 95))
(assert (= (dist 3 1) 158))
(assert (= (dist 3 2) 112))
(assert (= (dist 3 4) 112))
(assert (= (dist 3 5) 27))
(assert (= (dist 4 1) 112))
(assert (= (dist 4 2) 158))
(assert (= (dist 4 3) 112))
(assert (= (dist 4 5) 95))
(assert (= (dist 5 1) 132))
(assert (= (dist 5 2) 95))
(assert (= (dist 5 3) 27))
(assert (= (dist 5 4) 95))
; --- Axioms for a Valid Tour ---
(assert (Distinct (select tour 1) (select tour 2) (select tour 3) (select tour 4) (select tour 5)))
(assert (and (>= (select tour 1) 1) (<= (select tour 1) 5)))
(assert (and (>= (select tour 2) 1) (<= (select tour 2) 5)))
(assert (and (>= (select tour 3) 1) (<= (select tour 3) 5)))
(assert (and (>= (select tour 4) 1) (<= (select tour 4) 5)))
(assert (and (>= (select tour 5) 1) (<= (select tour 5) 5)))
; --- Real TSP Cost Calculation ---
(assert (= cost (+ (dist (select tour 1) (select tour 2)) (dist (select tour 2) (select tour 3)) (dist (select tour 3) (select tour 4)) (dist (select tour 4) (select tour 5)) (dist (select tour 5) (select tour 1)))))
; --- The Optimality Constraint ---
(assert (< cost 500))
(check-sat)
(get-model)

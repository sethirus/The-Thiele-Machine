"""
vm_instructions.py

AUTO-GENERATED from Coq kernel/VMStep.v
Generated: 2025-12-11T06:24:54.421312

DO NOT EDIT THIS FILE MANUALLY
Regenerate with: make generate-python

This file provides Python type definitions that exactly match
the Coq kernel specification, ensuring three-layer consistency.
"""

from dataclasses import dataclass
from typing import List, Any, Union

# Type aliases
ModuleID = int

# Forward declarations
class LassertCertificate:
    pass

class VMAxiom:
    pass

# Instruction types (generated from Coq)

@dataclass
class InstrPnew:
    """Generated from Coq: instr_pnew"""
    region: List[int]
    mu_delta: int

@dataclass
class InstrPsplit:
    """Generated from Coq: instr_psplit"""
    module: int
    mu_delta: int

@dataclass
class InstrPmerge:
    """Generated from Coq: instr_pmerge"""
    mu_delta: int

@dataclass
class InstrLassert:
    """Generated from Coq: instr_lassert"""
    module: int
    formula: str

@dataclass
class InstrLjoin:
    """Generated from Coq: instr_ljoin"""
    mu_delta: int

@dataclass
class InstrMdlacc:
    """Generated from Coq: instr_mdlacc"""
    module: int
    mu_delta: int

@dataclass
class InstrPdiscover:
    """Generated from Coq: instr_pdiscover"""
    module: int
    evidence: List[int]
    mu_delta: int

@dataclass
class InstrXfer:
    """Generated from Coq: instr_xfer"""
    mu_delta: int

@dataclass
class InstrPyexec:
    """Generated from Coq: instr_pyexec"""
    payload: str
    mu_delta: int

@dataclass
class InstrXor_load:
    """Generated from Coq: instr_xor_load"""
    addr: int
    mu_delta: int

@dataclass
class InstrXor_add:
    """Generated from Coq: instr_xor_add"""
    val: int
    mu_delta: int

@dataclass
class InstrXor_swap:
    """Generated from Coq: instr_xor_swap"""
    mu_delta: int

@dataclass
class InstrXor_rank:
    """Generated from Coq: instr_xor_rank"""
    mu_delta: int

@dataclass
class InstrEmit:
    """Generated from Coq: instr_emit"""
    module: int
    payload: str
    mu_delta: int

@dataclass
class InstrOracle_halts:
    """Generated from Coq: instr_oracle_halts"""
    payload: str
    mu_delta: int

@dataclass
class InstrHalt:
    """Generated from Coq: instr_halt"""
    mu_delta: int

# Union of all instruction types
VMInstruction = Union[
    InstrPnew,
    InstrPsplit,
    InstrPmerge,
    InstrLassert,
    InstrLjoin,
    InstrMdlacc,
    InstrPdiscover,
    InstrXfer,
    InstrPyexec,
    InstrXor_load,
    InstrXor_add,
    InstrXor_swap,
    InstrXor_rank,
    InstrEmit,
    InstrOracle_halts,
    InstrHalt
]

def extract_mu_cost(instr: VMInstruction) -> int:
    """Extract Î¼-cost from any instruction."""
    return instr.mu_delta

# Total instructions: 16
INSTRUCTION_COUNT = 16

"""DO NOT EDIT. GENERATED FROM COQ PROOFS.
Generated by scripts/forge.py from Coq-extracted OCaml.

This file intentionally matches the *existing* ISA encoding used by:
- thielecpu/isa.py (Python reference encoding)
- thielecpu/hardware/thiele_cpu.v (RTL implementation)

If you change ISA encodings, regenerate via scripts/forge_artifact.sh.
"""

from __future__ import annotations

COQ_INSTRUCTION_TAGS: tuple[str, ...] = (
    'Coq_instr_pnew',
    'Coq_instr_psplit',
    'Coq_instr_pmerge',
    'Coq_instr_lassert',
    'Coq_instr_ljoin',
    'Coq_instr_mdlacc',
    'Coq_instr_pdiscover',
    'Coq_instr_xfer',
    'Coq_instr_pyexec',
    'Coq_instr_chsh_trial',
    'Coq_instr_xor_load',
    'Coq_instr_xor_add',
    'Coq_instr_xor_swap',
    'Coq_instr_xor_rank',
    'Coq_instr_emit',
    'Coq_instr_oracle_halts',
    'Coq_instr_halt',
)

COQ_TAG_TO_MNEMONIC: dict[str, str] = {
    'Coq_instr_pnew': 'PNEW',
    'Coq_instr_psplit': 'PSPLIT',
    'Coq_instr_pmerge': 'PMERGE',
    'Coq_instr_lassert': 'LASSERT',
    'Coq_instr_ljoin': 'LJOIN',
    'Coq_instr_mdlacc': 'MDLACC',
    'Coq_instr_pdiscover': 'PDISCOVER',
    'Coq_instr_xfer': 'XFER',
    'Coq_instr_pyexec': 'PYEXEC',
    'Coq_instr_chsh_trial': 'CHSH_TRIAL',
    'Coq_instr_xor_load': 'XOR_LOAD',
    'Coq_instr_xor_add': 'XOR_ADD',
    'Coq_instr_xor_swap': 'XOR_SWAP',
    'Coq_instr_xor_rank': 'XOR_RANK',
    'Coq_instr_emit': 'EMIT',
    'Coq_instr_oracle_halts': 'ORACLE_HALTS',
    'Coq_instr_halt': 'HALT',
}

MNEMONIC_TO_OPCODE_BYTE: dict[str, int] = {
    'CHSH_TRIAL': 9,
    'EMIT': 14,
    'HALT': 255,
    'LASSERT': 3,
    'LJOIN': 4,
    'MDLACC': 5,
    'ORACLE_HALTS': 15,
    'PDISCOVER': 6,
    'PMERGE': 2,
    'PNEW': 0,
    'PSPLIT': 1,
    'PYEXEC': 8,
    'XFER': 7,
    'XOR_ADD': 11,
    'XOR_LOAD': 10,
    'XOR_RANK': 13,
    'XOR_SWAP': 12,
}

COQ_TAG_TO_OPCODE_BYTE: dict[str, int] = {
    'Coq_instr_pnew': 0,
    'Coq_instr_psplit': 1,
    'Coq_instr_pmerge': 2,
    'Coq_instr_lassert': 3,
    'Coq_instr_ljoin': 4,
    'Coq_instr_mdlacc': 5,
    'Coq_instr_pdiscover': 6,
    'Coq_instr_xfer': 7,
    'Coq_instr_pyexec': 8,
    'Coq_instr_chsh_trial': 9,
    'Coq_instr_xor_load': 10,
    'Coq_instr_xor_add': 11,
    'Coq_instr_xor_swap': 12,
    'Coq_instr_xor_rank': 13,
    'Coq_instr_emit': 14,
    'Coq_instr_oracle_halts': 15,
    'Coq_instr_halt': 255,
}

def sanity_check() -> None:
    assert len(COQ_INSTRUCTION_TAGS) == len(set(COQ_INSTRUCTION_TAGS))
    assert all(isinstance(tag, str) and tag for tag in COQ_INSTRUCTION_TAGS)
    # Ensure all tags map to known ISA opcodes.
    assert set(COQ_TAG_TO_MNEMONIC) == set(COQ_INSTRUCTION_TAGS)
    assert set(COQ_TAG_TO_OPCODE_BYTE) == set(COQ_INSTRUCTION_TAGS)
    assert all(0 <= v <= 0xFF for v in COQ_TAG_TO_OPCODE_BYTE.values())

